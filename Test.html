<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script src="SLTConfig.js"></script>
	<script src="SLTUtils.js"></script>
	<script src="SLTEventDispatcher.js"></script>
	<script src="SLTTimer.js"></script>
	<script src="SLTDevice.js"></script>
	<script src="SLTDeserializer.js"></script>
	<script src="SLTFeature.js"></script>
	<script src="game/SLTLevelBoardParser.js"></script>
	<script src="game/SLTLevel.js"></script>
	<script src="game/SLTLevelPack.js"></script>
	<script src="game/SLTLevelSettings.js"></script>
	<script src="game/SLTAsset.js"></script>
	<script src="game/SLTCompositeAsset.js"></script>
	<script src="resource/SLTTransport.js"></script>
	<script src="resource/SLTResourceTicket.js"></script>
	<script src="resource/SLTResource.js"></script>
	<script src="SLTSaltr.js"></script>
</head>
<body>


<script>
	var clientKey = "283672aa-a3a0-7f98-ae37-676ac5bd7472";
	var saltrClient = new SALTR.SaltrWeb(clientKey);
	saltrClient.setSocial(null, null);
	//saltrClient.start(loadCompleteHandler, loadFailedHandler);

	function loadCompleteHandler() {
		var levelPacks = saltrClient._levelPacks;
		debugger;

		var pack = levelPacks[0];
		var level = pack._levels[0];

		saltrClient.loadLevelContentData(level, levelLoadCompleteHandler, levelLoadFailedHandler);
	}

	function loadFailedHandler(error) {
		console.log(error);
	}

	function levelLoadCompleteHandler() {
		var pack = saltrClient._levelPacks[0];
		var level = pack._levels[0];
		
		console.log(level._boardsNode);
	}

	function levelLoadFailedHandler() {}
	*/

    function testChunk() {
        var chunkCells = [
            {"x": 0, "y": 0, "assetInstance": null, "properties": {}, "isBlocked": false},
            {"x": 1, "y": 0, "assetInstance": null, "properties": {}, "isBlocked": false},
            {"x": 0, "y": 1, "assetInstance": null, "properties": {}, "isBlocked": false},
            {"x": 1, "y": 1, "assetInstance": null, "properties": {}, "isBlocked": false}
        ];

        var chunkAssetsInfo = [
            {
                "assetId": "1592",
                "stateId": null,
                "distributionType": "count",
                "distributionValue": 4
            }
        ];

        var levelSettings = {
            assetMap: {
                1592: {
                    keys: null,
                    type: "regular"
                },
                1593: {
                    keys: null,
                    type: "regular"
                },
                1594: {
                    keys: null,
                    type: "strawberry"
                },
                4091: {
                    keys: null,
                    type: "rererer"
                },
                4099: {
                    keys: null,
                    type: "saC"
                }
            },
            stateMap: {
                937: "frozen"
            },
            keySetMap: null
        };

        var chunk = SALTR.Chunk(chunkCells, chunkAssetsInfo, levelSettings);
        chunk.generate();
        debugger;
    }
</script>

</body>
</html>
